<div class="form-container">
  <mat-card>
    <mat-card-header>
      <!-- Динамічний заголовок -->
      <mat-card-title>{{ isEditMode ? 'Edit Movie' : 'Add New Movie' }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="movieForm" (ngSubmit)="onSubmit()">
        <!-- Title -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Title</mat-label>
          <input matInput formControlName="title" placeholder="e.g. Inception" />
          @if (movieForm.get('title')?.hasError('required')) {
          <mat-error>Title is required</mat-error>
          }
        </mat-form-field>

        <div class="row">
          <!-- Year -->
          <mat-form-field appearance="outline">
            <mat-label>Year</mat-label>
            <input matInput type="number" formControlName="year" />
          </mat-form-field>

          <!-- Rating -->
          <mat-form-field appearance="outline">
            <mat-label>Rating (0-10)</mat-label>
            <input matInput type="number" formControlName="rating" max="10" min="0" />
          </mat-form-field>
        </div>

        <!-- Director -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Director</mat-label>
          <input matInput formControlName="director" placeholder="e.g. Christopher Nolan" />
        </mat-form-field>

        <!-- Actors -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Actors (comma separated)</mat-label>
          <input matInput formControlName="actors" placeholder="Leonardo DiCaprio, Tom Hardy" />
          <mat-hint>Enter names separated by comma</mat-hint>
        </mat-form-field>

        <!-- Genre -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Genre</mat-label>
          <input matInput formControlName="genre" placeholder="e.g. Sci-Fi" />
        </mat-form-field>

        <!-- Poster URL -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Poster Image URL</mat-label>
          <input matInput formControlName="posterUrl" placeholder="https://..." />
        </mat-form-field>

        <!-- Description -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description" rows="4"></textarea>
          @if (movieForm.get('description')?.hasError('minlength')) {
          <mat-error>Description must be at least 10 chars</mat-error>
          }
        </mat-form-field>

        <div class="actions">
          <button mat-raised-button color="primary" type="submit" [disabled]="movieForm.invalid">
            {{ isEditMode ? 'Update Movie' : 'Save Movie' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
